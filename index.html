<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kuray Tunc – HR Chatbot</title>

  <style>
    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: #020617;
      height: 100vh;
      overflow: hidden;
    }

    /* --- BACKGROUND ANIMATION --- */
    .floating {
      position: absolute;
      border-radius: 50%;
      background: rgba(59, 130, 246, 0.15);
      pointer-events: none;
      animation: float 12s infinite ease-in-out;
      mix-blend-mode: screen;
    }

    @keyframes float {
      0% { transform: translateY(0px) }
      50% { transform: translateY(-40px) }
      100% { transform: translateY(0px) }
    }

    /* --- MAIN WRAPPER --- */
    .app-wrapper {
      display: flex;
      height: 100vh;
      width: 100%;
      overflow: hidden;
      position: relative;
      backdrop-filter: blur(6px);
    }

    /* --- SIDEBAR --- */
    .sidebar {
      width: 310px;
      background: rgba(15, 23, 42, 0.55);
      backdrop-filter: blur(20px);
      padding: 26px;
      border-right: 1px solid rgba(255, 255, 255, 0.06);
      display: flex;
      flex-direction: column;
      gap: 24px;
      color: #e5e7eb;
    }

    .avatar {
      width: 72px;
      height: 72px;
      border-radius: 50%;
      overflow: hidden;
      border: 2px solid rgba(255,255,255,0.2);
    }

    .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center 20%;
    }

    .name-block h1 {
      margin: 0;
      font-size: 20px;
    }

    .name-block p {
      margin: 4px 0 0;
      font-size: 13px;
      color: #9ca3af;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      padding: 5px 9px;
      border-radius: 9999px;
      border: 1px solid rgba(255,255,255,0.25);
      background: rgba(255,255,255,0.05);
      margin-top: 4px;
    }

    .section-title {
      font-size: 11px;
      text-transform: uppercase;
      color: #94a3b8;
      margin-bottom: 6px;
      letter-spacing: 1px;
    }

    .skills-list span {
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(255,255,255,0.06);
      margin-right: 6px;
      margin-bottom: 6px;
      display: inline-block;
      border: 1px solid rgba(255,255,255,0.1);
    }

    /* --- CHAT PANEL --- */
    .chat-panel {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 20px;
      color: white;
    }

    #messages {
      flex: 1;
      overflow-y: auto;
      padding-right: 10px;
      margin-bottom: 14px;
    }

    .msg {
      margin-bottom: 10px;
      padding: 10px 14px;
      border-radius: 10px;
      max-width: 70%;
      white-space: pre-wrap;
    }

    .user {
      background: #22c55e;
      color: #022c22;
      margin-left: auto;
      border-bottom-right-radius: 2px;
    }

    .bot {
      background: #0f172a;
      border: 1px solid #1e293b;
      margin-right: auto;
      border-bottom-left-radius: 2px;
    }

    #inputBar {
      display: flex;
      gap: 10px;
    }

    #question {
      flex: 1;
      padding: 12px;
      border-radius: 9999px;
      background: #0f172a;
      border: 1px solid #334155;
      color: #e2e8f0;
    }

    #sendBtn {
      padding: 0 18px;
      border-radius: 9999px;
      border: none;
      background: #3b82f6;
      color: white;
      font-weight: 600;
      cursor: pointer;
    }
  </style>
</head>

<body>

<!-- Background Animated Circles -->
<div class="floating" style="width:140px; height:140px; left:10%; top:20%;"></div>
<div class="floating" style="width:110px; height:110px; left:70%; top:80%; animation-duration: 15s;"></div>
<div class="floating" style="width:160px; height:160px; left:40%; top:50%; animation-duration: 19s;"></div>

<div class="app-wrapper">
  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="avatar">
      <img src="https://raw.githubusercontent.com/kuraytunc/kuray-chatbot-frontend/main/avatar.jpg" />
    </div>

    <div class="name-block">
      <h1>Kuray Tunc</h1>
      <p>Developer & Data Analyst</p>

      <span class="pill">Available for internships & junior roles</span>
    </div>

    <div>
      <div class="section-title">Core Focus</div>
      <p>I combine <strong>data analysis</strong>, <strong>business intelligence</strong>, and 
      <strong>digital transformation</strong> projects.</p>
    </div>

    <div>
      <div class="section-title">Key Skills</div>
      <div class="skills-list">
        <span>Excel / Power BI</span>
        <span>SQL & Python</span>
        <span>Reporting Automation</span>
        <span>Process Optimisation</span>
        <span>IT–Business Communication</span>
      </div>
    </div>

  </aside>

  <!-- CHAT PANEL -->
  <section class="chat-panel">
    <h2>Ask Kuray’s HR Assistant</h2>

    <div id="messages"></div>

    <div id="inputBar">
      <input id="question" placeholder="Ask a recruiter-style question..." />
      <button id="sendBtn">Send</button>
    </div>
  </section>
</div>

<script>
  const API_URL = "https://kuray-chatbot.onrender.com/chat";
  const messagesBox = document.getElementById("messages");
  const questionInput = document.getElementById("question");

  document.getElementById("sendBtn").onclick = sendMessage;
  questionInput.addEventListener("keydown", e => { if (e.key === "Enter") sendMessage(); });

  function addMessage(text, sender) {
    let div = document.createElement("div");
    div.className = "msg " + sender;
    div.textContent = text;
    messagesBox.appendChild(div);
    messagesBox.scrollTop = messagesBox.scrollHeight;
  }

  async function sendMessage() {
    const text = questionInput.value.trim();
    if (!text) return;

    addMessage(text, "user");
    questionInput.value = "";

    try {
      const res = await fetch(API_URL, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({question: text})
      });
      const data = await res.json();
      addMessage(data.answer, "bot");
    } catch {
      addMessage("Backend error", "bot");
    }
  }
</script>

</body>
</html>
